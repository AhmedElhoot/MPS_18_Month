import pandas as pd
import plotly.express as px
import streamlit as st
st.set_page_config(layout='wide', page_title='Kandil Steel MPS 18 Months')
st.image('data:image/png;base64,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')
html_title = """<h1 style="color:Blue;text-align:center;font-size:65px;"> 2024-2025 Monthly Master Plan Schedule </h1>"""
st.markdown(html_title,unsafe_allow_html=True)
df = pd.read_csv('cleaned_df.csv',index_col=0)
st.dataframe(df)
page=st.sidebar.radio('Pages',['Welcome Page','Univariate Numerical or Categorical Histograms','Univariate Numerical Box Plots','Univariate Categorical Pie Charts','Multivariete Analysis Bar Charts'])
if page == 'Univariate Numerical or Categorical Histograms':
    st.title('Univariate Numerical or Categorical Histograms')
    for col in df.columns:
        st.plotly_chart(px.histogram(data_frame=df,x=col,title=col))
elif page == 'Univariate Numerical Box Plots':
    st.title('Univariate Numerical Box Plots')
    st.plotly_chart(px.box(data_frame=df,x='Remain_GRF', width=800, height=400))
    st.plotly_chart(px.box(data_frame=df,x='ZINC01', width=800, height=400))
    st.plotly_chart(px.box(data_frame=df,x='CBE$', width=800, height=400))
    st.plotly_chart(px.box(data_frame=df,x='BM$', width=800, height=400))
elif page == 'Univariate Categorical Pie Charts':
    st.title('Univariate Categorical Pie Charts')
    st.plotly_chart(px.pie(data_frame=df,names='Loaded_line',width=800, height=500))
    st.plotly_chart(px.pie(data_frame=df,names='Creation',width=800, height=500))
    st.plotly_chart(px.pie(data_frame=df,names='Destination', width=800, height=500))
    st.plotly_chart(px.pie(data_frame=df,names='Destination.1', width=800, height=500))
    st.plotly_chart(px.pie(data_frame=df,names='order_item_type', width=800, height=500))
elif page == 'Multivariete Analysis Bar Charts':
    st.title('Multivariete Analysis Bar Charts')
    Remain_GRF_per_Demanded_Month_Per_Plan_Month=(df.groupby(['Demanded_Month','Plan_Month'])['Remain_GRF']).mean().round(2)
    df_plot = Remain_GRF_per_Demanded_Month_Per_Plan_Month.reset_index(name='Remain_GRF')
    st.plotly_chart(px.bar(
    data_frame=df_plot,
    x='Demanded_Month',
    y='Remain_GRF',
    color='Plan_Month',
    text_auto=True,
    title='Remain_GRF per Demanded Month per Plan Month',
    barmode='group'))
    Remain_GRF_per_Destination_Per_Loaded_line=(df.groupby(['Destination','Loaded_line'])['Remain_GRF']).mean().round(2)
    df_plot2 = Remain_GRF_per_Destination_Per_Loaded_line.reset_index(name='Remain_GRF')
    st.plotly_chart(px.bar(
    data_frame=df_plot2,
    x='Destination',
    y='Remain_GRF',
    color='Loaded_line',
    text_auto=True,
    title='Remain_GRF_per_Destination_Per_Loaded_line',
    barmode='group'))
